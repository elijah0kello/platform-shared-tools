version: "3.8"

services:
  authentication-svc:
    image: mojaloop/security-bc-authentication-svc:0.0.4
    volumes:
      - authentication-svc_data:/app/data
    environment:
      - KAFKA_URL=${KAFKA_URL}
      - KAFKA_LOGS_TOPIC=${KAFKA_LOGS_TOPIC}
      - KAFKA_AUDITS_TOPIC=${KAFKA_AUDITS_TOPIC}
    ports:
      - 3201:3201

  authorization-svc:
    image: mojaloop/security-bc-authorization-svc:0.0.4
    volumes:
      - authorization-svc_data:/app/data
    environment:
      - KAFKA_URL=${KAFKA_URL}
      - KAFKA_LOGS_TOPIC=${KAFKA_LOGS_TOPIC}
      - KAFKA_AUDITS_TOPIC=${KAFKA_AUDITS_TOPIC}
    ports:
      - 3202:3202

  platform-configuration-svc:
    image: mojaloop/platform-configuration-bc-configuration-svc:0.0.1
    volumes:
      - platform-configuration-svc_data:/app/data
    environment:
      - KAFKA_URL=${KAFKA_URL}
      - KAFKA_LOGS_TOPIC=${KAFKA_LOGS_TOPIC}
      - KAFKA_AUDITS_TOPIC=${KAFKA_AUDITS_TOPIC}
    ports:
      - 3100:3100

  platform-configuration-svc:
    image: mojaloop/platform-configuration-bc-configuration-svc:0.0.1
    volumes:
      - platform-configuration-svc_data:/app/data
    environment:
      - KAFKA_URL=${KAFKA_URL}
      - KAFKA_LOGS_TOPIC=${KAFKA_LOGS_TOPIC}
      - KAFKA_AUDITS_TOPIC=${KAFKA_AUDITS_TOPIC}
    ports:
      - 3100:3100

volumes:
  authentication-svc_data:
    driver: local
    driver_opts:
      o: bind
      type: none
      device: ./data/authentication-svc
  authorization-svc_data:
    driver: local
    driver_opts:
      o: bind
      type: none
      device: ./data/authorization-svc
  platform-configuration-svc_data:
    driver: local
    driver_opts:
      o: bind
      type: none
      device: ./data/platform-configuration-svc

